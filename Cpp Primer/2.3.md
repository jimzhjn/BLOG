# 2.3 复合类型

复合类型是指基于其他类型定义的类型。C++语言有几种复合类型。与我们已经掌握的变量声明相比，定义复合类型的变量要复杂很多。

## 2.3.1 引用

引用为对象起了另外一个名字，引用类型引用另外一种类型。通过将声明符写成&d的形式来定义引用类型，其中d是声明的变量名：

一般在初始化变量时，初始值会被拷贝到新建的对象中。然而定义引用时，程序把引用和它的初始值绑定在一起，而不是将初始值拷贝给引用。一旦初始化完成，引用将和它的初始值对象一直绑定在一起。因为无法令引用重新绑定到另外一个对象，因此引用必须初始化。

```
int ival = 1024;
int &refVal = ival; // refVal指向ival
int &refVal2;       // 报错：引用必须被初始化
```

### 引用即别名

引用并非对象，相反的，它只是为一个已经存在的对象所起的另外一个名字。

定义了一个引用之后，对其进行的所有操作都是在与之绑定的对象上进行的：

```
refVal = 2;       // 把2赋给refVal指向的对象，此处即是赋给了iVal
int ii = refVal;  // 与ii = iVal执行结果一样
```

为引用赋值，实际上是把值赋给了与引用绑定的对象。获取引用的值，实际上是获取了引用绑定的对象的值。同理，以引用作为初始值，实际上是以与引用绑定的对象作为初始值。

因为引用本身不是一个对象，因此不能定义引用的引用。

### 引用的定义

允许在一条语句中定义多个引用，其中每个引用标识符都必须以符号&开头：

```
int i = 1024, i2 = 2048;    // i和i2都是int
int &r = i, r2 = i2;        // r是一个引用，与i绑定在一起，r2是int  
int i3 = 1024, &ri = i3;    // i3是int，ri是一个引用，与i3绑定在一起
int &r3 = i3, &r4 = i2;     // r3和r4都是引用
```

## 2.3.2 指针

指针是“指向”另外一种类型的复合类型。与引用类似，指针也实现了对其他对象的间接访问。然而指针与引用相比又有很多不同点。其一，指针本身就是一个对象，允许对指针赋值和拷贝，而且在指针的生命周期内它可以先后指向几个不同的对象。其二，指针无须在定义时赋初值。和其他内置类型一样，在块作用域内定义的指针如果没有被初始化，也将拥有一个不确定的值。

